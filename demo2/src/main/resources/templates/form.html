<!DOCTYPE html>
<html>
<head>
		<meta charset="utf-8" />
		<meta name="google-signin-scope" content="profile email"/>
        <meta name="google-signin-client_id" content="440064316382-c366oiae9rp2i1gf2fsnuh801d8f6eku.apps.googleusercontent.com"/>
        <script src="https://apis.google.com/js/platform.js" async="true" defer="true"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Cuenta</title>
		<base href="/" />
        
        <script src="https://apis.google.com/js/platform.js" ></script>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		
</head>
<body>
	<p> Inserta un nuevo cliente  </p>
	
	<form>
		<p>name <input type="text" name="name" id="name"/></p>
		<p>address <input type="text"  name="address" id="address"/></p>
		<p>email <input type="text"  name="email" id="email"/></p>
		<p>phone <input type="text"  name="phone" id="phone"/></p>
		<p>Saldo <input type="number" step="0.01"  name="saldo" id="saldo"/></p>
		<p>Ejecutive Email <input type="hidden"  name="ejecutive_email" id="ejecutive_email"/></p>
		<div id="logidentity" class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
		<p><input type="button"  name="boton" id="boton" value="Submit" /></p>
	</form>
	
	<script>
		$("#boton").click(function(){
                jsonObj = {
                    "name":$("#name").val(),
                    "address":$("#address").val(),
                    "email": $("#email").val(),
                    "phone":$("#phone").val(),
                    "saldo":$("#saldo").val() ,
                    "ejecutive_email":$("#ejecutive_email").val() };
                console.log("CLICK");
                console.log(jsonObj);
                console.log(JSON.stringify(jsonObj));
                var settings = {
                "async": true,
                "crossDomain": true,
                "url": "http://localhost:8080/cliente2/agregarCliente",
                "method": "POST",
                "headers": {
                    "Content-Type": "application/json",
                    "Cache-Control": "no-cache",
                    "Postman-Token": "f98a90de-0233-e6e9-c02b-1d7b457c3f63"
                },
                "processData": false,
                "data": JSON.stringify(jsonObj)
                }
                $.ajax(settings).done(function (response) {
                		
               		 console.log(response); 
                });
            });
		
		
		
        function onSignIn(googleUser) {
            var profile = googleUser.getBasicProfile();
            console.log("ID: " + profile.getId());
            console.log('Full Name: ' + profile.getName());
            console.log("Email: " + profile.getEmail());
           //  var id_token = googleUser.getAuthResponse().id_token;
            ejecutivo = profile.getEmail();
            $("#ejecutive_email").val(profile.getEmail());
        	$("#logidentity").hide("slow");
/*             console.log("ID Token: " + id_token);
            
            if(profile.getName() == ""){
            	location.href = "/";
            }else{
            	$("#strejecutivo").val(profile.getEmail());
            	$("#logidentity").hide("slow");
            }  */
        };
            	
	</script>

</body>
</html>